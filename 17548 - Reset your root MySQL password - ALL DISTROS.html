<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">
<head>
<title>Reset your root MySQL password - ALL DISTROS</title>
<style>
table {border-collapse: collapse; color: #333; margin: 1.2rem 0;}
tr:nth-child(odd) {background-color: #f7f7f7;}
tr:nth-child(1) {background-color:#ddd;}
th{ border-right: 1px solid #ddd; padding: 5px; text-align:left;}
td{border: 1px solid #b2b2b2;padding: 5px;vertical-align:top;}
td:nth-child(1) {font-weight:bold;}
</style>
<style type="text/css">
div.hacker {
background-color:#666;
border:1px solid #ccc;
color:#fff;
font-family:"Lucida Console","Courier New",Courier,fixed;  font-size:95%;  line-height:160%;  margin-bottom:1.5em;  padding:10px; }
p.note {
 background-color:#ffffe6;
 border:1px solid #eee;
 color:#666;
 padding:.8em 1.6em;
 margin:15px 0;
}
.warning {
 border: 1px #d25100 solid;
 padding: .5em 1em .5em 4em;
 margin: 10px 20px 15px 20px;
 background-image: url('@{help-img-path}/img_warning.gif');
 background-repeat: no-repeat;
 background-position: left top;
 background-color: #ededed;-moz-border-radius:
0.8em;-webkit-border-radius: 0.8em;
 /* -moz-border-bottom-radius: 0;9 */
 -webkit-border-bottom-radius: 0;
 padding-top:14px;
 padding-bottom:15px;
}
</style>
</head>
<body>
    <h1>Reset your root MySQL password - ALL DISTROS</h1>    
    <p><strong>Difficulty</strong>: <em>1</em><br/>
        <strong>Time</strong>: <em>30 minutes</em></p>
    <p>When MySQL is installed, you set up the root user, and give this user a password. This is the administrative user for MySQL that has full permissions and privileges for all databases and tables. However, you generally do not want to use this user for everyday site or application use, and it is usually intended for server and system administrators. If you lose or forget this root password, you can use this guide to reset that root password.</p>
<h2>Prerequisites:</h2>
<p>This guide works for any server that has MySQL installed. If you need to install MySQL on a new server, see the MySQL Installation instructions in the LAMP stack guides for your preferred Linux distribution:
<ul>
  <li><a href="/article/17341?prog_id=PROG_ID" target="_blank">Ubuntu</a></li>
  <li><a href="/article/17346?prog_id=PROG_ID" target="_blank">Debian</a></li>
  <li><a href="/article/17342?prog_id=PROG_ID" target="_blank">CentOS 6 or Fedora</a></li>
  <li><a href="/article/17344?prog_id=PROG_ID" target="_blank">CentOS 7</a></li>
  <li><a href="/article/17345?prog_id=PROG_ID" target="_blank">Arch Linux</a></li>
</ul>
<p>This guide works for all versions of MySQL on all Linux distributions. You also need to be logged in as a user with <code>sudo</code> permissions.</p>
<h2>Reset a root MySQL Password</h2>
<h3>Turn off MySQL</h3>
<p class="warning">If you have any sites or application that rely on MySQL to function, these will stop working until you turn MySQL back on.</p>
<p>You must turn the MySQL service off to reset the root password. The command you use to turn MySQL off varies depending on your Linux distribution. Choose the command from the table below for the Linux version you are using:
<table>
  <tr>
    <th>Distributions</th>
    <th>Command</th>
  </tr>
  <tr>
    <td>Ubuntu, Debian</td>
    <td><code>sudo service mysql stop</code></td>
  </tr>
  <tr>
    <td>Fedora, CentOS 6</td>
    <td><code>sudo service mysqld stop</code></td>
  </tr>
  <tr>
    <td>CentOS 7</td>
    <td><code>sudo systemctl stop mariadb.service</code></td>
  </tr>
  <tr>
    <td>Arch Linux</td>
    <td><code>sudo systemctl stop mysqld.service</code></td>
  </tr>
</table>
<p class="note">Later in this guide when you need to start MySQL, use the same command from this table replacing <code>stop</code> with <code>start</code>.</p>
<h3>Reset the root password through safe mode</h3>
<p>MySQL safe mode lets you change system settings without the need for a MySQL root password.</p>
<ol>
  <li>Start up safe mode. You may need to type <strong>Enter</strong> on your keyboard twice.
    <div class="hacker">sudo mysqld_safe --skip-grant-tables &</div>
  </li>
  <li>Log into MySQL as root. You do not need to specify a password this time.
    <div class="hacker">mysql -u root</div>
  </li>
  <li>Change to the mysql database, which handles the settings for MySQL itself.
    <div class="hacker">use mysql;</div>
  </li>
  <li>Update the password for the root user.
    <div class="hacker">update user set password=PASSWORD("<em><u>newpassword</u></em>") where User='root';</div>
  </li>
  <li>Refresh the MySQL user privileges.
    <div class="hacker">flush privileges;</div>
  </li>
  <li>Exit MySQL by typing the <code>exit</code> command or typing <strong>CTRL-C</strong> in your keyboard.</li>
</ol>
<h3>Stop and Start MySQL</h3>
<p>Similar to before you still stop MySQL then start it again. These commands will vary according to your distribution, so please use the table above for your reference. This example will use the commands for MySQL on Ubuntu.</p>
<ul>
  <li>Stop MySQL:
    <div class="hacker">sudo service mysql stop</div>
  </li>
  <li>Then Start MySQL again to confirm the changes.
    <div class="hacker">sudo service mysql start</div>
  </li>
  <li>Connect to MySQL again with your root user. You should now be able to connect with your new root password.
    <div class="hacker">mysql -u root -p</div>
  </li>
</ul>
<h2>Conclusion</h2>
<p>In this article, you learned how to change the MySQL root password without needing to know the existing password.</p>
<p>For more MySQL administration guides, check out our <a href="/article/17547?prog_id=PROG_ID" target="_blank">MySQL backup guide</a>.</p>
</body>
</html>