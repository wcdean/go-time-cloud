<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">

<head>

<!--Article Number is 17521-->




<title>Install Ruby on Rails with rbenv - CentOS</title>
<style type="text/css">
div.hacker {
background-color:#666;
border:1px solid #ccc;
color:#fff;
font-family:"Lucida Console","Courier New",Courier,fixed;  font-size:95%;  line-height:160%;  margin-bottom:1.5em;  padding:10px; }

p.note {
 background-color:#ffffe6;
 border:1px solid #eee;
 color:#666;
 padding:.8em 1.6em;
 margin:15px 0;
}

.warning {
 border: 1px #d25100 solid;
 padding: .5em 1em .5em 4em;
 margin: 10px 20px 15px 20px;
 background-image: url('@{help-img-path}/img_warning.gif');
 background-repeat: no-repeat;
 background-position: left top;
 background-color: #ededed;-moz-border-radius:
0.8em;-webkit-border-radius: 0.8em;
 /* -moz-border-bottom-radius: 0;9 */
 -webkit-border-bottom-radius: 0;
 padding-top:14px;
 padding-bottom:15px;
}

</style>


</head>

<body>
<p>Setting up Ruby on Rails using rbenv on CentOS, Ruby, Rails</p>
    <h1>Install Ruby on Rails using rbenv – CentOS</h1>
    
    <p><strong>Difficulty</strong>: <em>1</em><br/>
        <strong>Time</strong>: <em>30 minutes</em></p>

    <p>Ruby is a pure, object-oriented language like PERL and Python, and Rails is a framework for web application development written in Ruby. In this article, you will learn to install Ruby on Rails on CentOS with the help of rbenv.  rbenv is a new lightweight Ruby version management tool.</p> 
	<p class="note">This article assumes that you have <code>sudo</code> privileges.</p> 
    <h2>Prerequisites</h2>
	<p>To setup the CentOS server, refer to the articles: <a href="#17323">Initial Server Setup - CentOS</a> or <a href="#17368">Install Git - CentOS</a>.</p>
  
	<h2>Install rbenv</h2>
             <ol>
			 <li>Before installing Ruby, you need to install rbenv and Ruby dependencies with yum.
			 <div class='hacker'>sudo yum install -y git-core zlib zlib-devel gcc-c++ patch readline readline-devel libyaml-devel libffi-devel openssl-devel make bzip2 autoconf automake libtool bison curl sqlite-devel</div>
			 </li>
			 <li>Install rbenv, and  then check for rbenv in the <code>.rbenv</code> directory.
			 <div class='hacker'>cd ~</div>
			 <div class='hacker'>git clone git://github.com/sstephenson/rbenv.git .rbenv</div></li>
			 <li><p>Add a directory to your <code>$PATH</code> for accessing rbenv. </p>
			  <div class='hacker'>echo 'export PATH="$HOME/.rbenv/bin:$PATH"' >> ~/.bash_profile</div></li>
			 <li><p>Add <code>rbenv init</code> into the shell to enable the shims.</p>
			  <div class='hacker'>echo 'eval "$(rbenv init -)"' >> ~/.bash_profile</div>
			  <div class='hacker'>exec $SHELL</div>
			 </li>
			 <li>Install the latest development version of ruby-build into the <code>~/.rbenv/plugins/ruby-build</code> directory.
			 <div class='hacker'>  git clone git://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build</div> <!-- corrected command :nt-->
			 </li>
			 <li>Add a directory to your <code>$PATH</code> for accessing Ruby. 
			 <div class='hacker'> echo 'export PATH="$HOME/.rbenv/plugins/ruby-build/bin:$PATH"' >> ~/.bash_profile</div>
			 <div class='hacker'>exec $SHELL</div>
			 <div class="hacker">source ~/.bash_profile</div> <!-- added because it requires to reload the bash_profile and enable rbenv command :nt-->
			  
			 </li>
      </ol>
<p>This command installs rbenv into your home directory, and sets appropriate environment variables that will allow rbenv to the active version of Ruby.
			 </p> 
			 
	<h2>Install Ruby</h2>
		<p>Before you start using rbenv, make sure that you install the latest version of Ruby and the dependencies.</p>
             <ol>
			 <li>Install the dependency of Rails before you install Ruby by typing:
			 <div class='hacker'>rbenv install -v <em><u>2.2.3</u></em></div>
			 </li>
			 <li>Set the default version of Ruby that all of your shells will use.
			 <div class='hacker'>rbenv global <em><u>2.2.3</u></em></div>
			 </li>
			 <li>Display which version of Ruby was installed.
			  <div class='hacker'>ruby -v</div>
			 </li>
			 </ol>
			 
			 
			 <h2>Install RubyGems</h2>
		   <p>The Bundler gem is an essential tool for managing gems when developing and running Rails applications.</p>
        <p>Documentation files will install by default when you install gems. By stopping the document installation step before you install gems, you can save time during the gems installation.</p>
       <ol>
			 <li>Disable the document installation.
			 <div class='hacker'>echo "gem: --no-document" > ~/.gemrc</div>
			 </li>
			 <li>Install the bundler gem. 
			 <div class='hacker'>gem install bundler</div>
				</li>
			 </ol>
       
       
<h2>Set up Rails application</h2>
             <ol>
			 <li>To install Rails, type:
			  <div class='hacker'>gem install rails</div>
			  <p>This will take some time, so be patient. Once completed, Ruby on Rails will be installed.</p>
			 </li>
			  <li>To install Shims for all Ruby executables known to rbenv, use the sub-command <code>rehash</code>.
			    <div class='hacker'>rbenv rehash</div>
			 </li>
			  <li>Find out the version of both Ruby and Rails.
			  <div class='hacker'>ruby -v</div>
			   <div class='hacker'>rails -v</div>
			 </li>
			 </ol>	 
			 
			 
			  <h2>Install JavaScript runtime</h2>
		<p>A few Rails features, such as the Asset Pipeline, depend on a Javascript runtime. Install Node.js to get this functionality.</p>
             
			 <p>However, before you can install Node.js, you need to install the Extra Packages for Enterprise Linux (EPEL) yum repository. This allows you to install software packages that are not included in the official CentOS or Red Hat Enterprise Linux (RHEL) repositories.</p> 
			  <ol><li>Install the EPEL release.
        <div class='hacker'>sudo yum -y install epel-release</div>
			 </li>
			  <li>Install the <code>nodejs</code> package.
			  <div class='hacker'>sudo yum install nodejs</div>
			 </li>
			  </ol>	
            
    <h2>Next steps</h2>
    <p>In this article, you reviewed the steps involved in installing rbenv, Ruby, Ruby Gems, and finally Rails in CentOS. For supported enterprise level application, you can also <a href="17953 - Scale Ruby on Rails Applications Across Multiple Servers - CentOS, Fedora">scale Ruby on Rails application across multiple servers</a>.</p>
   
</body>
</html>